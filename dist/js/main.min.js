"use strict";var burgerBtn=document.querySelector(".hamburger"),nav=document.querySelector(".nav"),navUl=document.querySelector(".nav__links"),allNavLi=document.querySelectorAll(".nav__item"),footerYear=document.querySelector(".footer__year"),nameInput=document.querySelector("#name"),emailInput=document.querySelector("#email"),phoneInput=document.querySelector("#phone"),msgInput=document.querySelector("#msg"),contactForm=document.querySelector(".form_html"),sendBtn=document.querySelector(".contact__form-btn"),closeBtn=document.querySelector(".close-btn"),popup=document.querySelector(".pop-up"),allInputs=[nameInput,emailInput,msgInput],checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),t=0;return e.forEach(function(e){e.classList.contains("error-active")&&t++}),grecaptcha&&0!==grecaptcha.getResponse().length||t++,0===t},checkEmail=function(e){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.value)?clearError(e):printError(e,"Adres email jest niepoprawny")},checkLength=function(e,t){e.value.length<t&&printError(e,"".concat(e.name," składa się z min. ").concat(t," znaków"))},printError=function(e,t){e=e.parentElement;e.classList.add("error-active"),e.querySelector(".error-text").textContent=t},clearError=function(e){e.parentElement.classList.remove("error-active")},checkCaptcha=function(){var e=document.querySelector(".captcha-error-text");grecaptcha&&0!==grecaptcha.getResponse().length?e.classList.remove("error-active"):(e.textContent="Zaznacz antyspam",e.classList.add("error-active"))},checkForm=function(e){e.forEach(function(e){""===e.value?printError(e,"Puste pole"):clearError(e)})},allChecks=function(){return checkForm(allInputs),checkLength(nameInput,3),checkLength(msgInput,10),checkEmail(emailInput),checkCaptcha(),checkErrors()},handleBurger=(contactForm&&contactForm.addEventListener("submit",function(e){if(e.preventDefault(),!allChecks())return!1;e=$(this).serialize();$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:e,success:function(){popup.firstElementChild.textContent="Zapytanie zostało wysłane!",popup.classList.add("pop-up-show")},error:function(e,t,r){popup.firstElementChild.textContent="Wystąpił błąd w trakcie wysyłania",popup.classList.add("pop-up-show")}})}),closeBtn&&closeBtn.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("pop-up-show"),contactForm.reset()}),function(){burgerBtn.classList.toggle("is-active"),navUl.classList.toggle("display-menu")}),closeNav=function(){navUl.classList.remove("display-menu"),burgerBtn.classList.remove("is-active")},handleCurrYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};$(".portfolio-menu ul li").click(function(){$(".portfolio-menu ul li").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-filter");return $(".portfolio-item").isotope({filter:e}),!1}),$(document).ready(function(e){e(".popup-btn").magnificPopup({type:"image",gallery:{enabled:!0}})}),$(function(){function e(){var e=$(".g-recaptcha").parent().parent().width(),e=e<302?e/302:1;$(".g-recaptcha").css("transform","scale("+e+")"),$(".g-recaptcha").css("-webkit-transform","scale("+e+")"),$(".g-recaptcha").css("transform-origin","0 0"),$(".g-recaptcha").css("-webkit-transform-origin","0 0")}e(),$(window).resize(function(){e()})}),handleCurrYear(),allNavLi.forEach(function(e){return e.addEventListener("click",closeNav)}),burgerBtn.addEventListener("click",handleBurger);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2IiwibmF2VWwiLCJmb290ZXJZZWFyIiwibmFtZUlucHV0IiwiZW1haWxJbnB1dCIsInBob25lSW5wdXQiLCJtc2dJbnB1dCIsImNvbnRhY3RGb3JtIiwic2VuZEJ0biIsImNsb3NlQnRuIiwiYWxsSW5wdXRzIiwiY2hlY2tFcnJvcnMiLCJhbGxpbnAiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyTm8iLCJpbnB1dCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwibGVuZ3RoIiwicmUiLCJlbWFpbCIsInRlc3QiLCJ2YWx1ZSIsInByaW50RXJyb3IiLCJtaW4iLCJjb25jYXQiLCJuYW1lIiwiZm9ybUJveCIsImFkZCIsIm1zZyIsImVycm9yUCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImNoZWNrQ2FwdGNoYSIsImNhcHRjaGFQIiwiaW5wdXRzIiwiY2xlYXJFcnJvciIsImNoZWNrRm9ybSIsImNoZWNrTGVuZ3RoIiwiY2hlY2tFbWFpbCIsImhhbmRsZUJ1cmdlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhbGxDaGVja3MiLCJkYXRhU3RyaW5nIiwiJCIsInRoaXMiLCJzZXJpYWxpemUiLCJhamF4IiwiYXR0ciIsInR5cGUiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInBvcHVwIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlcnJvciIsInJlcXVlc3QiLCJzdGF0dXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRvZ2dsZSIsImNsb3NlTmF2IiwiaGFuZGxlQ3VyclllYXIiLCJ5ZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiaW5uZXJUZXh0IiwiY2xpY2siLCJyZW1vdmVDbGFzcyIsInNlbGVjdG9yIiwiZmlsdGVyIiwiaXNvdG9wZSIsInJlYWR5IiwiZW5hYmxlZCIsImdhbGxlcnkiLCJ3aWR0aCIsInNjYWxlIiwicGFyZW50IiwiY3NzIiwicmVzY2FsZUNhcHRjaGEiLCJ3aW5kb3ciLCJyZXNpemUiLCJhbGxOYXZMaSIsImZvckVhY2giLCJsaSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsY0FBYyxjQUNuQ0MsSUFBTUYsU0FBU0MsY0FBYyxRQUQ3QkYsTUFBU0MsU0FBR0EsY0FBU0MsZUFDckJDLFNBQU1GLFNBQVNDLGlCQUFyQixjQUNNRSxXQUFRSCxTQUFTQyxjQUFjLGlCQUUvQkcsVUFBYUosU0FBU0MsY0FBYyxTQUVwQ0ksV0FBWUwsU0FBU0MsY0FBYyxVQUNuQ0ssV0FBYU4sU0FBU0MsY0FBYyxVQUNwQ00sU0FBYVAsU0FBU0MsY0FBYyxRQUNwQ08sWUFBV1IsU0FBU0MsY0FBYyxjQUNsQ1EsUUFBV1QsU0FBR0EsY0FBU0Msc0JBQ3ZCUyxTQUFVVixTQUFTQyxjQUFjLGNBQ2pDVSxNQUFRWCxTQUFXQyxjQUFSLFdBR1hXLFVBQWFQLENBQUFBLFVBQVdDLFdBQVlFLFVBRXBDSyxZQUFjLFdBQ25CLElBQU1DLEVBQVNkLFNBQVNlLGlCQUFpQixzQkFDekNDLEVBQVMsRUFhUixPQVZBRixFQUFJRyxRQUFNQyxTQUFBQSxHQUNURixFQUFLRSxVQUFBQyxTQUFBLGlCQUNMSCxNQUlEQSxZQUFLLElBQUFJLFdBQUFDLGNBQUFDLFFBQ0xOLElBR0EsSUFBQUEsR0FPS08sV0FDTCxTQUFBQyxHQUVELHVIQUFBQyxLQUVPRCxFQUFBRSxPQUNOQyxXQUFBQSxHQVBGQSxXQUFBSCxFQUFBLGlDQWFFRyxZQUFVLFNBQUFWLEVBQUFXLEdBQ1ZYLEVBQUFTLE1BQUFKLE9BQUFNLEdBSEZELFdBQUFWLEVBQUEsR0FBQVksT0FBQVosRUFBQWEsS0FBQSx1QkFBQUQsT0FBQUQsRUFBQSxhQVFDRyxXQUFBLFNBQWtCQyxFQUFJQyxHQUNoQkMsRUFBU0gsRUFBUTlCLGNBQ3ZCaUMsRUFBT0MsVUFBQUEsSUFBY0YsZ0JBSnRCRixFQUFBOUIsY0FBQSxlQUlRa0MsWUFBY0YsR0FLckJGLFdBQUEsU0FBa0JLLEdBRm5CbkIsRUFBQW9CLGNBRVNuQixVQUFVa0IsT0FBTyxpQkFHcEJFLGFBQWUsV0FFcEIsSUFBSUMsRUFBWXZDLFNBQUlvQixjQUFXQyx1QkFDOUJrQixZQUFBLElBQVNKLFdBQWNkLGNBQXZCQyxPQUlBaUIsRUFBQXJCLFVBQUFrQixPQUFBLGlCQUhBRyxFQUFBQSxZQUFtQlAsbUJBQ25CTyxFQUFNckIsVUFBQWMsSUFBQSxrQkFNUFEsVUFBZSxTQUFBQSxHQUNkQSxFQUFJdkIsUUFBTVMsU0FBQUEsR0FDQyxLQUFWQyxFQUFBQSxNQUNBQSxXQUFNVixFQUFBLGNBRU53QixXQUFBeEIsTUFLRnlCLFVBQVU5QixXQURYLE9BRUMrQixVQUFBQSxXQUNBQSxZQUFXdEMsVUFBVyxHQUN0QnVDLFlBQVd0QyxTQUFELElBQ1ZnQyxXQUFBQSxZQUNBQSxlQU5EekIsZUF5Q01nQyxjQS9CTHBDLGFBQ0NxQyxZQUFNQyxpQkFBTixTQUFBLFNBQUFELEdBQ0EsR0FEQUEsRUFBTUMsa0JBQ05DLFlBQ0MsT0FBQSxFQUVHQyxFQUFhQyxFQUFFQyxNQUFNQyxZQUF6QkYsRUFBQUcsS0FBSUosQ0FDSkMsS0FBRUcsRUFBS0YsTUFBQUcsS0FBQSxVQUNOQyxJQUFBQSxFQUFJSixNQUFJRyxLQUFNQSxVQUNkRSxLQUFHUCxFQUNIUSxRQUFNUixXQUNOUyxNQUFBQSxrQkFBU3ZCLFlBQVksNkJBQ3BCd0IsTUFBQUEsVUFBTUMsSUFBQUEsZ0JBRU5DLE1BUEssU0FBQUMsRUFBQUMsRUFBQUYsR0FRTkEsTUFBQUEsa0JBQWlCQyxZQUNoQkgsb0NBRUFBLE1BQUFBLFVBQU16QyxJQUFVYyxvQkFNaEJyQixVQUNIQSxTQUFRcUQsaUJBQVIsUUFBQSxTQUFtQ0MsR0FDbENBLEVBQUFBLGlCQUNBTixNQUFBQSxVQUFNekMsT0FBVWtCLGVBQ2hCM0IsWUFBQUEsVUFJbUIsV0FDcEJWLFVBQVNtQixVQUFUZ0QsT0FBQSxhQUNBL0QsTUFBS2UsVUFBTGdELE9BQUEsa0JBR0tDLFNBQVcsV0FDaEJoRSxNQUFLZSxVQUFMa0IsT0FBQSxnQkFDQXJDLFVBQVNtQixVQUFUa0IsT0FBQSxjQUdLZ0MsZUFBaUIsV0FDdEIsSUFBTUMsR0FBTyxJQUFJQyxNQUFPQyxjQUN4Qm5FLFdBQVVvRSxVQUFWSCxHQVNBbkIsRUFBQUEseUJBQUN1QixNQUEwQkMsV0FDM0J4QixFQUFDLHlCQUFEd0IsWUFBQSxVQUVBeEIsRUFBQUMsTUFBTXdCLFNBQVksVUFFakJDLElBQUFBLEVBQVFELEVBQUFBLE1BQUFBLEtBQUFBLGVBS1QsT0FONkJ6QixFQUE3QixtQkFBQTJCLFFBQUEsQ0FHQUQsT0FBT0QsS0FHTjNFLElBR0F1RCxFQUFBQSxVQUFNdUIsTUFEaUIsU0FBQTVCLEdBRWRBLEVBQUEsY0FDUjZCLGNBQVMsQ0FERHhCLEtBQUEsUUFGY3lCLFFBQXhCLENBRkRELFNBQUEsT0FVQTdCLEVBQUUsV0FJQSxTQUFJK0IsSUFDSEMsSUFBQUEsRUFBUUQsRUFBQUEsZ0JBQVJFLFNBQUFBLFNBQUFGLFFBR0FDLEVBREFBLEVBQVEsSUFDUkQsRUFBQSxJQUVDLEVBR0YvQixFQUFBQSxnQkFBQ2tDLElBQWlCQSxZQUFJLFNBQUFGLEVBQTRCLEtBQ2xEaEMsRUFBQSxnQkFBQWtDLElBQUEsb0JBQUEsU0FBQUYsRUFBQSxLQUZBaEMsRUFBRSxnQkFBZ0JrQyxJQUFJLG1CQUFvQixPQUkzQ0MsRUFBQUEsZ0JBQWNELElBQUEsMkJBQUEsT0FHYkMsSUFuQkRuQyxFQUFEb0MsUUFBQUMsT0FBQSxXQXNCQW5CLFFBRUFyRSxpQkFEQXlGLFNBQVNDLFFBQVEsU0FBQ0MsR0FBRCxPQUFRQSxFQUFHMUIsaUJBQWlCLFFBQVNHLFlBQ3REcEUsVUFBVWlFLGlCQUFpQixRQUFTbkIiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbmNvbnN0IG5hdlVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpbmtzXCIpO1xyXG5jb25zdCBhbGxOYXZMaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2X19pdGVtXCIpO1xyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX3llYXJcIik7XHJcblxyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25hbWVcIik7XHJcbmNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VtYWlsXCIpO1xyXG5jb25zdCBwaG9uZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaG9uZVwiKTtcclxuY29uc3QgbXNnSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21zZ1wiKTtcclxuY29uc3QgY29udGFjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1faHRtbFwiKTtcclxuY29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdF9fZm9ybS1idG5cIik7XHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZS1idG5cIik7XHJcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBcIik7XHJcblxyXG5jb25zdCBhbGxJbnB1dHMgPSBbbmFtZUlucHV0LCBlbWFpbElucHV0LCBtc2dJbnB1dF07XHJcblxyXG5jb25zdCBjaGVja0Vycm9ycyA9ICgpID0+IHtcclxuXHRjb25zdCBhbGxpbnAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbnRhY3RfX2Zvcm0tYm94XCIpO1xyXG5cdGxldCBlcnJObyA9IDA7XHJcblxyXG5cdGFsbGlucC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aWYgKGlucHV0LmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yLWFjdGl2ZVwiKSkge1xyXG5cdFx0XHRlcnJObysrO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpZiAoIShncmVjYXB0Y2hhICYmIGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKS5sZW5ndGggIT09IDApKSB7XHJcblx0XHRlcnJObysrO1xyXG5cdH1cclxuXHJcblx0aWYgKGVyck5vID09PSAwKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRW1haWwgPSAoZW1haWwpID0+IHtcclxuXHRjb25zdCByZSA9XHJcblx0XHQvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkkL2k7XHJcblxyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHByaW50RXJyb3IoZW1haWwsIGBBZHJlcyBlbWFpbCBqZXN0IG5pZXBvcHJhd255YCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tMZW5ndGggPSAoaW5wdXQsIG1pbikgPT4ge1xyXG5cdGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pIHtcclxuXHRcdHByaW50RXJyb3IoaW5wdXQsIGAke2lucHV0Lm5hbWV9IHNrxYJhZGEgc2nEmSB6IG1pbi4gJHttaW59IHpuYWvDs3dgKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBwcmludEVycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBmb3JtQm94ID0gaW5wdXQucGFyZW50RWxlbWVudDtcclxuXHRmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1hY3RpdmVcIik7XHJcblx0Y29uc3QgZXJyb3JQID0gZm9ybUJveC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLXRleHRcIik7XHJcblx0ZXJyb3JQLnRleHRDb250ZW50ID0gbXNnO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IChpbnB1dCkgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLWFjdGl2ZVwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrQ2FwdGNoYSA9ICgpID0+IHtcclxuXHRjb25zdCBjYXB0Y2hhUCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FwdGNoYS1lcnJvci10ZXh0XCIpO1xyXG5cdGlmICghKGdyZWNhcHRjaGEgJiYgZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMCkpIHtcclxuXHRcdGNhcHRjaGFQLnRleHRDb250ZW50ID0gXCJaYXpuYWN6IGFudHlzcGFtXCI7XHJcblx0XHRjYXB0Y2hhUC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItYWN0aXZlXCIpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjYXB0Y2hhUC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItYWN0aXZlXCIpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrRm9ybSA9IChpbnB1dHMpID0+IHtcclxuXHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZSA9PT0gXCJcIikge1xyXG5cdFx0XHRwcmludEVycm9yKGlucHV0LCBcIlB1c3RlIHBvbGVcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGFsbENoZWNrcyA9ICgpID0+IHtcclxuXHRjaGVja0Zvcm0oYWxsSW5wdXRzKTtcclxuXHRjaGVja0xlbmd0aChuYW1lSW5wdXQsIDMpO1xyXG5cdGNoZWNrTGVuZ3RoKG1zZ0lucHV0LCAxMCk7XHJcblx0Y2hlY2tFbWFpbChlbWFpbElucHV0KTtcclxuXHRjaGVja0NhcHRjaGEoKTtcclxuXHRyZXR1cm4gY2hlY2tFcnJvcnMoKTtcclxufTtcclxuXHJcbmlmIChjb250YWN0Rm9ybSkge1xyXG5cdGNvbnRhY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0aWYgKCFhbGxDaGVja3MoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRsZXQgZGF0YVN0cmluZyA9ICQodGhpcykuc2VyaWFsaXplKCk7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR0eXBlOiAkKHRoaXMpLmF0dHIoXCJtZXRob2RcIiksXHJcblx0XHRcdHVybDogJCh0aGlzKS5hdHRyKFwiYWN0aW9uXCIpLFxyXG5cdFx0XHRkYXRhOiBkYXRhU3RyaW5nLFxyXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cG9wdXAuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQgPSBcIlphcHl0YW5pZSB6b3N0YcWCbyB3eXPFgmFuZSFcIjtcclxuXHRcdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wLXVwLXNob3dcIik7XHJcblx0XHRcdH0sXHJcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAocmVxdWVzdCwgc3RhdHVzLCBlcnJvcikge1xyXG5cdFx0XHRcdHBvcHVwLmZpcnN0RWxlbWVudENoaWxkLnRleHRDb250ZW50ID1cclxuXHRcdFx0XHRcdFwiV3lzdMSFcGnFgiBixYLEhWQgdyB0cmFrY2llIHd5c3nFgmFuaWFcIjtcclxuXHRcdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wLXVwLXNob3dcIik7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9KTtcclxufVxyXG5cclxuaWYgKGNsb3NlQnRuKSB7XHJcblx0Y2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wLXVwLXNob3dcIik7XHJcblx0XHRjb250YWN0Rm9ybS5yZXNldCgpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVCdXJnZXIgPSAoKSA9PiB7XHJcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1hY3RpdmVcIik7XHJcblx0bmF2VWwuY2xhc3NMaXN0LnRvZ2dsZShcImRpc3BsYXktbWVudVwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdlVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW1lbnVcIik7XHJcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDdXJyWWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhcjtcclxufTtcclxuXHJcbi8vICQoXCIucG9ydGZvbGlvLWl0ZW1cIikuaXNvdG9wZSh7XHJcbi8vIFx0aXRlbVNlbGVjdG9yOiBcIi5pdGVtXCIsXHJcbi8vIFx0bGF5b3V0TW9kZTogXCJmaXRSb3dzXCIsXHJcbi8vIH0pO1xyXG5cclxuJChcIi5wb3J0Zm9saW8tbWVudSB1bCBsaVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0JChcIi5wb3J0Zm9saW8tbWVudSB1bCBsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHQkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuXHRjb25zdCBzZWxlY3RvciA9ICQodGhpcykuYXR0cihcImRhdGEtZmlsdGVyXCIpO1xyXG5cdCQoXCIucG9ydGZvbGlvLWl0ZW1cIikuaXNvdG9wZSh7XHJcblx0XHRmaWx0ZXI6IHNlbGVjdG9yLFxyXG5cdH0pO1xyXG5cdHJldHVybiBmYWxzZTtcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xyXG5cdGNvbnN0IHBvcHVwX2J0biA9ICQoXCIucG9wdXAtYnRuXCIpO1xyXG5cdHBvcHVwX2J0bi5tYWduaWZpY1BvcHVwKHtcclxuXHRcdHR5cGU6IFwiaW1hZ2VcIixcclxuXHRcdGdhbGxlcnk6IHtcclxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdH0sXHJcblx0fSk7XHJcbn0pO1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcblx0ZnVuY3Rpb24gcmVzY2FsZUNhcHRjaGEoKSB7XHJcblx0XHRjb25zdCB3aWR0aCA9ICQoXCIuZy1yZWNhcHRjaGFcIikucGFyZW50KCkucGFyZW50KCkud2lkdGgoKTtcclxuXHRcdGxldCBzY2FsZTtcclxuXHRcdGlmICh3aWR0aCA8IDMwMikge1xyXG5cdFx0XHRzY2FsZSA9IHdpZHRoIC8gMzAyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2NhbGUgPSAxLjA7XHJcblx0XHR9XHJcblxyXG5cdFx0JChcIi5nLXJlY2FwdGNoYVwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIHNjYWxlICsgXCIpXCIpO1xyXG5cdFx0JChcIi5nLXJlY2FwdGNoYVwiKS5jc3MoXCItd2Via2l0LXRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGUgKyBcIilcIik7XHJcblx0XHQkKFwiLmctcmVjYXB0Y2hhXCIpLmNzcyhcInRyYW5zZm9ybS1vcmlnaW5cIiwgXCIwIDBcIik7XHJcblx0XHQkKFwiLmctcmVjYXB0Y2hhXCIpLmNzcyhcIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpblwiLCBcIjAgMFwiKTtcclxuXHR9XHJcblxyXG5cdHJlc2NhbGVDYXB0Y2hhKCk7XHJcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXNjYWxlQ2FwdGNoYSgpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmhhbmRsZUN1cnJZZWFyKCk7XHJcbmFsbE5hdkxpLmZvckVhY2goKGxpKSA9PiBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VOYXYpKTtcclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVCdXJnZXIpO1xyXG4iXX0=
