"use strict";var burgerBtn=document.querySelector(".hamburger"),nav=document.querySelector(".nav"),navUl=document.querySelector(".nav__links"),allNavLi=document.querySelectorAll(".nav__item"),footerYear=document.querySelector(".footer__year"),nameInput=document.querySelector("#name"),emailInput=document.querySelector("#email"),phoneInput=document.querySelector("#phone"),msgInput=document.querySelector("#msg"),contactForm=document.querySelector(".form_html"),sendBtn=document.querySelector(".contact__form-btn"),closeBtn=document.querySelector(".close-btn"),popup=document.querySelector(".pop-up"),allInputs=[nameInput,emailInput,msgInput],checkErrors=function(){var e=document.querySelectorAll(".contact__form-box"),t=0;return e.forEach(function(e){e.classList.contains("error-active")&&t++}),grecaptcha&&0!==grecaptcha.getResponse().length||t++,0===t},checkEmail=function(e){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.value)?clearError(e):printError(e,"Adres email jest niepoprawny")},checkLength=function(e,t){e.value.length<t&&printError(e,"".concat(e.name," składa się z min. ").concat(t," znaków"))},printError=function(e,t){e=e.parentElement;e.classList.add("error-active"),e.querySelector(".error-text").textContent=t},clearError=function(e){e.parentElement.classList.remove("error-active")},checkCaptcha=function(){var e=document.querySelector(".captcha-error-text");grecaptcha&&0!==grecaptcha.getResponse().length?e.classList.remove("error-active"):(e.textContent="Zaznacz antyspam",e.classList.add("error-active"))},checkForm=function(e){e.forEach(function(e){""===e.value?printError(e,"Puste pole"):clearError(e)})},allChecks=function(){return checkForm(allInputs),checkLength(nameInput,3),checkLength(msgInput,10),checkEmail(emailInput),checkCaptcha(),checkErrors()},handleBurger=(contactForm&&contactForm.addEventListener("submit",function(e){if(e.preventDefault(),!allChecks())return!1;e=$(this).serialize();$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:e,success:function(){popup.firstElementChild.textContent="Zapytanie zostało wysłane!",popup.classList.add("pop-up-show")},error:function(e,t,r){popup.firstElementChild.textContent="Wystąpił błąd w trakcie wysyłania: ".concat(e.status),popup.classList.add("pop-up-show")}})}),closeBtn&&closeBtn.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("pop-up-show"),contactForm.reset()}),function(){burgerBtn.classList.toggle("is-active"),navUl.classList.toggle("display-menu")}),closeNav=function(){navUl.classList.remove("display-menu"),burgerBtn.classList.remove("is-active")},handleCurrYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e};$(".portfolio-menu ul li").click(function(){$(".portfolio-menu ul li").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-filter");return $(".portfolio-item").isotope({filter:e}),!1}),$(document).ready(function(e){e(".popup-btn").magnificPopup({type:"image",gallery:{enabled:!0}})}),$(function(){function e(){var e=$(".g-recaptcha").parent().parent().width(),e=e<302?e/302:1;$(".g-recaptcha").css("transform","scale("+e+")"),$(".g-recaptcha").css("-webkit-transform","scale("+e+")"),$(".g-recaptcha").css("transform-origin","0 0"),$(".g-recaptcha").css("-webkit-transform-origin","0 0")}e(),$(window).resize(function(){e()})}),handleCurrYear(),allNavLi.forEach(function(e){return e.addEventListener("click",closeNav)}),burgerBtn.addEventListener("click",handleBurger);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2IiwibmF2VWwiLCJmb290ZXJZZWFyIiwibmFtZUlucHV0IiwiZW1haWxJbnB1dCIsInBob25lSW5wdXQiLCJtc2dJbnB1dCIsImNvbnRhY3RGb3JtIiwic2VuZEJ0biIsImNsb3NlQnRuIiwiYWxsSW5wdXRzIiwiY2hlY2tFcnJvcnMiLCJhbGxpbnAiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyTm8iLCJpbnB1dCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwibGVuZ3RoIiwicmUiLCJlbWFpbCIsInRlc3QiLCJ2YWx1ZSIsInByaW50RXJyb3IiLCJtaW4iLCJjb25jYXQiLCJuYW1lIiwiZm9ybUJveCIsImFkZCIsIm1zZyIsImVycm9yUCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwicGFyZW50RWxlbWVudCIsImNoZWNrQ2FwdGNoYSIsImNhcHRjaGFQIiwiaW5wdXRzIiwiY2xlYXJFcnJvciIsImNoZWNrRm9ybSIsImNoZWNrTGVuZ3RoIiwiY2hlY2tFbWFpbCIsImhhbmRsZUJ1cmdlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhbGxDaGVja3MiLCJkYXRhU3RyaW5nIiwiJCIsInRoaXMiLCJzZXJpYWxpemUiLCJhamF4IiwiYXR0ciIsInR5cGUiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInBvcHVwIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlcnJvciIsInJlcXVlc3QiLCJzdGF0dXMiLCJlIiwidG9nZ2xlIiwiY2xvc2VOYXYiLCJoYW5kbGVDdXJyWWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImlubmVyVGV4dCIsImNsaWNrIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNlbGVjdG9yIiwiaXNvdG9wZSIsImZpbHRlciIsInBvcHVwX2J0biIsIm1hZ25pZmljUG9wdXAiLCJlbmFibGVkIiwiZ2FsbGVyeSIsInJlc2NhbGVDYXB0Y2hhIiwid2lkdGgiLCJwYXJlbnQiLCJzY2FsZSIsImNzcyIsIndpbmRvdyIsInJlc2l6ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxVQUFZQyxTQUFTQyxjQUFjLGNBQ25DQyxJQUFNRixTQUFTQyxjQUFjLFFBRDdCRixNQUFTQyxTQUFHQSxjQUFTQyxlQUNyQkMsU0FBTUYsU0FBU0MsaUJBQXJCLGNBQ01FLFdBQVFILFNBQVNDLGNBQWMsaUJBRS9CRyxVQUFhSixTQUFTQyxjQUFjLFNBRXBDSSxXQUFZTCxTQUFTQyxjQUFjLFVBQ25DSyxXQUFhTixTQUFTQyxjQUFjLFVBQ3BDTSxTQUFhUCxTQUFTQyxjQUFjLFFBQ3BDTyxZQUFXUixTQUFTQyxjQUFjLGNBQ2xDUSxRQUFXVCxTQUFHQSxjQUFTQyxzQkFDdkJTLFNBQVVWLFNBQVNDLGNBQWMsY0FDakNVLE1BQVFYLFNBQVdDLGNBQVIsV0FHWFcsVUFBYVAsQ0FBQUEsVUFBV0MsV0FBWUUsVUFFcENLLFlBQWMsV0FDbkIsSUFBTUMsRUFBU2QsU0FBU2UsaUJBQWlCLHNCQUN6Q0MsRUFBUyxFQWFSLE9BVkFGLEVBQUlHLFFBQU1DLFNBQUFBLEdBQ1RGLEVBQUtFLFVBQUFDLFNBQUEsaUJBQ0xILE1BSURBLFlBQUssSUFBQUksV0FBQUMsY0FBQUMsUUFDTE4sSUFHQSxJQUFBQSxHQU9LTyxXQUNMLFNBQUFDLEdBRUQsdUhBQUFDLEtBRU9ELEVBQUFFLE9BQ05DLFdBQUFBLEdBUEZBLFdBQUFILEVBQUEsaUNBYUVHLFlBQVUsU0FBQVYsRUFBQVcsR0FDVlgsRUFBQVMsTUFBQUosT0FBQU0sR0FIRkQsV0FBQVYsRUFBQSxHQUFBWSxPQUFBWixFQUFBYSxLQUFBLHVCQUFBRCxPQUFBRCxFQUFBLGFBUUNHLFdBQUEsU0FBa0JDLEVBQUlDLEdBQ2hCQyxFQUFTSCxFQUFROUIsY0FDdkJpQyxFQUFPQyxVQUFBQSxJQUFjRixnQkFKdEJGLEVBQUE5QixjQUFBLGVBSVFrQyxZQUFjRixHQUtyQkYsV0FBQSxTQUFrQkssR0FGbkJuQixFQUFBb0IsY0FFU25CLFVBQVVrQixPQUFPLGlCQUdwQkUsYUFBZSxXQUVwQixJQUFJQyxFQUFZdkMsU0FBSW9CLGNBQVdDLHVCQUM5QmtCLFlBQUEsSUFBU0osV0FBY2QsY0FBdkJDLE9BSUFpQixFQUFBckIsVUFBQWtCLE9BQUEsaUJBSEFHLEVBQUFBLFlBQW1CUCxtQkFDbkJPLEVBQU1yQixVQUFBYyxJQUFBLGtCQU1QUSxVQUFlLFNBQUFBLEdBQ2RBLEVBQUl2QixRQUFNUyxTQUFBQSxHQUNDLEtBQVZDLEVBQUFBLE1BQ0FBLFdBQU1WLEVBQUEsY0FFTndCLFdBQUF4QixNQUtGeUIsVUFBVTlCLFdBRFgsT0FFQytCLFVBQUFBLFdBQ0FBLFlBQVd0QyxVQUFXLEdBQ3RCdUMsWUFBV3RDLFNBQUQsSUFDVmdDLFdBQUFBLFlBQ0FBLGVBTkR6QixlQXdDTWdDLGNBOUJMcEMsYUFDQ3FDLFlBQU1DLGlCQUFOLFNBQUEsU0FBQUQsR0FDQSxHQURBQSxFQUFNQyxrQkFDTkMsWUFDQyxPQUFBLEVBRUdDLEVBQWFDLEVBQUVDLE1BQU1DLFlBQXpCRixFQUFBRyxLQUFJSixDQUNKQyxLQUFFRyxFQUFLRixNQUFBRyxLQUFBLFVBQ05DLElBQUFBLEVBQUlKLE1BQUlHLEtBQU1BLFVBQ2RFLEtBQUdQLEVBQ0hRLFFBQU1SLFdBQ05TLE1BQUFBLGtCQUFTdkIsWUFBWSw2QkFDcEJ3QixNQUFBQSxVQUFNQyxJQUFBQSxnQkFFTkMsTUFQSyxTQUFBQyxFQUFBQyxFQUFBRixHQVFOQSxNQUFBQSxrQkFBaUJDLFlBQWpCRCxzQ0FBQUEsT0FBeUNDLEVBQUFDLFFBQ3hDSixNQUFBQSxVQUFNQyxJQUFBQSxvQkFPTmpELFVBQUpBLFNBQUlBLGlCQUFVLFFBQUEsU0FBQXFELEdBQ2JyRCxFQUFBQSxpQkFDQ3FELE1BQUVqQixVQUFBQSxPQUFGLGVBQ0FZLFlBQU16QyxVQUthLFdBQXJCbkIsVUFBTThDLFVBQWVvQixPQUFmcEIsYUFDTDlDLE1BQUFBLFVBQVVtQixPQUFVK0Msa0JBSWZDLFNBQVcsV0FBakIvRCxNQUFNK0QsVUFBVzlCLE9BQVg4QixnQkFDTC9ELFVBQU1lLFVBQVVrQixPQUFPLGNBSWxCK0IsZUFBaUIsV0FBdkIsSUFBTUEsR0FBQUEsSUFBY0MsTUFBR0MsY0FDdEJqRSxXQUFVa0UsVUFBY0QsR0FTekJuQixFQUFFLHlCQUF5QnFCLE1BQU0sV0FDaENyQixFQUFDLHlCQUFEc0IsWUFBQSxVQUNBdEIsRUFBQ0MsTUFBRHNCLFNBQUEsVUFHQXZCLElBQUV3QixFQUFBeEIsRUFBQUMsTUFBbUJ3QixLQUFRLGVBTDlCLE9BTUVDLEVBQUFBLG1CQUFRRixRQUFBQSxDQURvQkUsT0FBN0JGLEtBTEQsSUFhQ0csRUFBQUEsVUFBVUMsTUFBQUEsU0FBYzVCLEdBQUFBLEVBQUEsY0FFaEI0QixjQUFFLENBQ1JDLEtBQUFBLFFBRFFDLFFBQUEsQ0FGVkQsU0FBQSxPQVdDN0IsRUFBQSxXQUZELFNBQVMrQixJQUdSLElBQUlDLEVBQVFoQyxFQUFBLGdCQUFLaUMsU0FBQUEsU0FBQUQsUUFHaEJFLEVBSERGLEVBRU8sSUFDREEsRUFBTCxJQUFRLEVBS1RoQyxFQUFBQSxnQkFBQ21DLElBQWlCQSxZQUFJLFNBQW9CRCxFQUExQyxLQUNBbEMsRUFBQUEsZ0JBQUNtQyxJQUFpQkEsb0JBQUksU0FBNEJELEVBQWxELEtBQ0FsQyxFQUFBLGdCQUFBbUMsSUFBQSxtQkFBQSxPQURBbkMsRUFBRSxnQkFBZ0JtQyxJQUFJLDJCQUE0QixPQUtsREosSUFDQS9CLEVBRkRvQyxRQUFBQyxPQUFBLFdBakJETixRQXVCaUJkLGlCQUNqQnBFLFNBQVN5RixRQUFDQyxTQUFBQSxHQUFBQSxPQUFBQSxFQUFpQkEsaUJBQVM1QyxRQUFwQ3FCLFlBQUFuRSxVQUFVMEYsaUJBQWlCLFFBQVM1QyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpO1xyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcclxuY29uc3QgbmF2VWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlua3NcIik7XHJcbmNvbnN0IGFsbE5hdkxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2l0ZW1cIik7XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9feWVhclwiKTtcclxuXHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxcIik7XHJcbmNvbnN0IHBob25lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bob25lXCIpO1xyXG5jb25zdCBtc2dJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbXNnXCIpO1xyXG5jb25zdCBjb250YWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9odG1sXCIpO1xyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0X19mb3JtLWJ0blwiKTtcclxuY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlLWJ0blwiKTtcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cFwiKTtcclxuXHJcbmNvbnN0IGFsbElucHV0cyA9IFtuYW1lSW5wdXQsIGVtYWlsSW5wdXQsIG1zZ0lucHV0XTtcclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGFsbGlucCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udGFjdF9fZm9ybS1ib3hcIik7XHJcblx0bGV0IGVyck5vID0gMDtcclxuXHJcblx0YWxsaW5wLmZvckVhY2goKGlucHV0KSA9PiB7XHJcblx0XHRpZiAoaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZXJyb3ItYWN0aXZlXCIpKSB7XHJcblx0XHRcdGVyck5vKys7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGlmICghKGdyZWNhcHRjaGEgJiYgZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpLmxlbmd0aCAhPT0gMCkpIHtcclxuXHRcdGVyck5vKys7XHJcblx0fVxyXG5cclxuXHRpZiAoZXJyTm8gPT09IDApIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tFbWFpbCA9IChlbWFpbCkgPT4ge1xyXG5cdGNvbnN0IHJlID1cclxuXHRcdC9eKChbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaTtcclxuXHJcblx0aWYgKHJlLnRlc3QoZW1haWwudmFsdWUpKSB7XHJcblx0XHRjbGVhckVycm9yKGVtYWlsKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cHJpbnRFcnJvcihlbWFpbCwgYEFkcmVzIGVtYWlsIGplc3QgbmllcG9wcmF3bnlgKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0xlbmd0aCA9IChpbnB1dCwgbWluKSA9PiB7XHJcblx0aWYgKGlucHV0LnZhbHVlLmxlbmd0aCA8IG1pbikge1xyXG5cdFx0cHJpbnRFcnJvcihpbnB1dCwgYCR7aW5wdXQubmFtZX0gc2vFgmFkYSBzacSZIHogbWluLiAke21pbn0gem5ha8Ozd2ApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHByaW50RXJyb3IgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG5cdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG5cdGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yLWFjdGl2ZVwiKTtcclxuXHRjb25zdCBlcnJvclAgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItdGV4dFwiKTtcclxuXHRlcnJvclAudGV4dENvbnRlbnQgPSBtc2c7XHJcbn07XHJcblxyXG5jb25zdCBjbGVhckVycm9yID0gKGlucHV0KSA9PiB7XHJcblx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tDYXB0Y2hhID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNhcHRjaGFQID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXB0Y2hhLWVycm9yLXRleHRcIik7XHJcblx0aWYgKCEoZ3JlY2FwdGNoYSAmJiBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkubGVuZ3RoICE9PSAwKSkge1xyXG5cdFx0Y2FwdGNoYVAudGV4dENvbnRlbnQgPSBcIlphem5hY3ogYW50eXNwYW1cIjtcclxuXHRcdGNhcHRjaGFQLmNsYXNzTGlzdC5hZGQoXCJlcnJvci1hY3RpdmVcIik7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNhcHRjaGFQLmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1hY3RpdmVcIik7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tGb3JtID0gKGlucHV0cykgPT4ge1xyXG5cdGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG5cdFx0aWYgKGlucHV0LnZhbHVlID09PSBcIlwiKSB7XHJcblx0XHRcdHByaW50RXJyb3IoaW5wdXQsIFwiUHVzdGUgcG9sZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNsZWFyRXJyb3IoaW5wdXQpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgYWxsQ2hlY2tzID0gKCkgPT4ge1xyXG5cdGNoZWNrRm9ybShhbGxJbnB1dHMpO1xyXG5cdGNoZWNrTGVuZ3RoKG5hbWVJbnB1dCwgMyk7XHJcblx0Y2hlY2tMZW5ndGgobXNnSW5wdXQsIDEwKTtcclxuXHRjaGVja0VtYWlsKGVtYWlsSW5wdXQpO1xyXG5cdGNoZWNrQ2FwdGNoYSgpO1xyXG5cdHJldHVybiBjaGVja0Vycm9ycygpO1xyXG59O1xyXG5cclxuaWYgKGNvbnRhY3RGb3JtKSB7XHJcblx0Y29udGFjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRpZiAoIWFsbENoZWNrcygpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGxldCBkYXRhU3RyaW5nID0gJCh0aGlzKS5zZXJpYWxpemUoKTtcclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHR5cGU6ICQodGhpcykuYXR0cihcIm1ldGhvZFwiKSxcclxuXHRcdFx0dXJsOiAkKHRoaXMpLmF0dHIoXCJhY3Rpb25cIiksXHJcblx0XHRcdGRhdGE6IGRhdGFTdHJpbmcsXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRwb3B1cC5maXJzdEVsZW1lbnRDaGlsZC50ZXh0Q29udGVudCA9IFwiWmFweXRhbmllIHpvc3RhxYJvIHd5c8WCYW5lIVwiO1xyXG5cdFx0XHRcdHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3AtdXAtc2hvd1wiKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChyZXF1ZXN0LCBzdGF0dXMsIGVycm9yKSB7XHJcblx0XHRcdFx0cG9wdXAuZmlyc3RFbGVtZW50Q2hpbGQudGV4dENvbnRlbnQgPSBgV3lzdMSFcGnFgiBixYLEhWQgdyB0cmFrY2llIHd5c3nFgmFuaWE6ICR7cmVxdWVzdC5zdGF0dXN9YDtcclxuXHRcdFx0XHRwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wLXVwLXNob3dcIik7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9KTtcclxufVxyXG5cclxuaWYgKGNsb3NlQnRuKSB7XHJcblx0Y2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wLXVwLXNob3dcIik7XHJcblx0XHRjb250YWN0Rm9ybS5yZXNldCgpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5jb25zdCBoYW5kbGVCdXJnZXIgPSAoKSA9PiB7XHJcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1hY3RpdmVcIik7XHJcblx0bmF2VWwuY2xhc3NMaXN0LnRvZ2dsZShcImRpc3BsYXktbWVudVwiKTtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlTmF2ID0gKCkgPT4ge1xyXG5cdG5hdlVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LW1lbnVcIik7XHJcblx0YnVyZ2VyQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDdXJyWWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cdGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhcjtcclxufTtcclxuXHJcbi8vICQoXCIucG9ydGZvbGlvLWl0ZW1cIikuaXNvdG9wZSh7XHJcbi8vIFx0aXRlbVNlbGVjdG9yOiBcIi5pdGVtXCIsXHJcbi8vIFx0bGF5b3V0TW9kZTogXCJmaXRSb3dzXCIsXHJcbi8vIH0pO1xyXG5cclxuJChcIi5wb3J0Zm9saW8tbWVudSB1bCBsaVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0JChcIi5wb3J0Zm9saW8tbWVudSB1bCBsaVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcclxuXHQkKHRoaXMpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG5cclxuXHRjb25zdCBzZWxlY3RvciA9ICQodGhpcykuYXR0cihcImRhdGEtZmlsdGVyXCIpO1xyXG5cdCQoXCIucG9ydGZvbGlvLWl0ZW1cIikuaXNvdG9wZSh7XHJcblx0XHRmaWx0ZXI6IHNlbGVjdG9yLFxyXG5cdH0pO1xyXG5cdHJldHVybiBmYWxzZTtcclxufSk7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xyXG5cdGNvbnN0IHBvcHVwX2J0biA9ICQoXCIucG9wdXAtYnRuXCIpO1xyXG5cdHBvcHVwX2J0bi5tYWduaWZpY1BvcHVwKHtcclxuXHRcdHR5cGU6IFwiaW1hZ2VcIixcclxuXHRcdGdhbGxlcnk6IHtcclxuXHRcdFx0ZW5hYmxlZDogdHJ1ZSxcclxuXHRcdH0sXHJcblx0fSk7XHJcbn0pO1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcblx0ZnVuY3Rpb24gcmVzY2FsZUNhcHRjaGEoKSB7XHJcblx0XHRjb25zdCB3aWR0aCA9ICQoXCIuZy1yZWNhcHRjaGFcIikucGFyZW50KCkucGFyZW50KCkud2lkdGgoKTtcclxuXHRcdGxldCBzY2FsZTtcclxuXHRcdGlmICh3aWR0aCA8IDMwMikge1xyXG5cdFx0XHRzY2FsZSA9IHdpZHRoIC8gMzAyO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2NhbGUgPSAxLjA7XHJcblx0XHR9XHJcblxyXG5cdFx0JChcIi5nLXJlY2FwdGNoYVwiKS5jc3MoXCJ0cmFuc2Zvcm1cIiwgXCJzY2FsZShcIiArIHNjYWxlICsgXCIpXCIpO1xyXG5cdFx0JChcIi5nLXJlY2FwdGNoYVwiKS5jc3MoXCItd2Via2l0LXRyYW5zZm9ybVwiLCBcInNjYWxlKFwiICsgc2NhbGUgKyBcIilcIik7XHJcblx0XHQkKFwiLmctcmVjYXB0Y2hhXCIpLmNzcyhcInRyYW5zZm9ybS1vcmlnaW5cIiwgXCIwIDBcIik7XHJcblx0XHQkKFwiLmctcmVjYXB0Y2hhXCIpLmNzcyhcIi13ZWJraXQtdHJhbnNmb3JtLW9yaWdpblwiLCBcIjAgMFwiKTtcclxuXHR9XHJcblxyXG5cdHJlc2NhbGVDYXB0Y2hhKCk7XHJcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXNjYWxlQ2FwdGNoYSgpO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbmhhbmRsZUN1cnJZZWFyKCk7XHJcbmFsbE5hdkxpLmZvckVhY2goKGxpKSA9PiBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VOYXYpKTtcclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVCdXJnZXIpO1xyXG4iXX0=
